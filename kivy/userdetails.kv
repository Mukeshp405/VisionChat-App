<UserDetail>:
    name: "UserDetail"
    md_bg_color: "#1c1c1c"

    # Navigation Bar
    MDNavigationLayout:
        MDTopAppBar:
            md_bg_color: "#ad7102"
            pos_hint: {'top': 1}
            size_hint: (1, 0.07)

            MDBoxLayout:
                orientation: 'horizontal'
                
                # Left Arrow
                MDIconButton:
                    icon: 'arrow-left-thick'
                    theme_icon_color: 'Custom'
                    icon_color: "white"
                    on_release: 
                        root.manager.current = "Home"
                        root.manager.transition.direction = "right"
                
                # Profile Label
                MDLabel:
                    text: 'User Details'
                    halign: 'center'
                    color: 1,1,1,1
                    padding: ('0dp', '0dp', '0dp', '20dp')
                
                # Setting Button
                MDIconButton:
                    icon: 'cog-outline'
                    theme_icon_color: 'Custom'
                    icon_color: "white"
                    on_release:
                        root.manager.current = "Setting"
                        root.manager.transition.direction = "left"

    # Profile Photo and Username 
    MDAnchorLayout:
        pos_hint: {'center_x': 0.5,'center_y': 0.72}
        size_hint_y: None
        height: "280dp"

        MDBoxLayout:
            orientation: 'vertical'
            adaptive_width: True
            adaptive_height: True
            pos_hint: {'center_x': 0.5}

            # Profile Image
            MDBoxLayout:
                adaptive_width: True
                adaptive_height: True
                md_bg_color: "#a19c9c"
                padding: ('10dp', '10dp', '10dp', '10dp')
                radius: (100, 100, 100, 100)
                
                Image:
                    id: user_image
                    source: ""
                    size_hint: None, None
                    height: 150
                    width: 150
                    canvas.before:
                        StencilPush
                        Ellipse:
                            pos: self.pos
                            size: self.size
                        StencilUse
                    canvas.after:
                        StencilUnUse
                        StencilPop


            # UserName and Firstname
            MDAnchorLayout:
                pos_hint: {'center_x': 0.5,'center_y': 0.1}
                size_hint_y: None
                height: "100dp"
                MDBoxLayout:
                    orientation: 'vertical' 
                    padding: ('0dp', '30dp', '0dp', '10dp')    
                    MDLabel:
                        id: username_label
                        text: ""
                        theme_text_color: 'Custom'
                        text_color: "orange"
                        font_size: "28dp"
                        halign: 'center'
                        size_hint_x: None
                        width: "200dp"
                
                    MDLabel:
                        id: fullname_label
                        text: ""
                        theme_text_color: 'Custom'
                        text_color: "white"
                        font_size: "14dp"
                        halign: 'center'

    # Divider Line
    MDNavigationDrawerDivider:
        color: "gray"
        pos_hint: {'center_x': 0.5,'center_y': 0.54}
        padding: ('15dp', '0dp', '15dp', '0dp')

    # UserDetails
    MDAnchorLayout:
        pos_hint: {'center_x': 0.5,'center_y': 0.35}
        padding: ('30dp', '10dp', '30dp', '10dp')

        MDBoxLayout:
            orientation: 'vertical'
            adaptive_height: True
            padding: ('0dp', '5dp', '0dp', '0dp')
            spacing: '20dp'

            # Name
            MDBoxLayout:
                orientation: 'horizontal'
                adaptive_height: True
                spacing: '7dp'
                padding: ('0dp', '10dp', '0dp', '0dp')

                MDIcon:
                    id: cellphone_basic_icon
                    icon: "account-circle"
                    theme_text_color: "Custom"
                    text_color: "white"

                MDLabel:
                    text: 'Name :'        
                    theme_text_color: 'Custom'
                    text_color: "white"
                    font_size: "20dp"
                    password: True

            MDLabel:
                id: fullname_label2
                text: ''
                theme_text_color: 'Custom'
                text_color: "orange"
                padding: ('30dp', '0dp', '0dp', '0dp')
            
            # Username
            MDBoxLayout:
                orientation: 'horizontal'
                adaptive_height: True
                spacing: '7dp'
                padding: ('0dp', '10dp', '0dp', '0dp')

                MDIcon:
                    id: lock_outline_icon
                    icon: "account-circle"
                    theme_text_color: "Custom"
                    text_color: "white"

                MDLabel:
                    id: username_name
                    text: 'Username :'        
                    theme_text_color: 'Custom'
                    text_color: "white"
                    font_size: "20dp"

            MDLabel:
                id: username_label2
                text: ""
                theme_text_color: 'Custom'
                text_color: "orange"
                padding: ('30dp', '0dp', '0dp', '0dp')
            
            # Message Button
            MDBoxLayout:
                orientation: 'horizontal'
                adaptive_height: True
                spacing: '7dp'
                padding: ('0dp', '10dp', '0dp', '0dp')

                MDRectangleFlatIconButton:
                    icon: 'message'
                    text: 'Message'
                    icon_color: "orange"
                    text_color: "orange"
                    line_color: "orange"
                    on_release: 
                        # app.root.get_screen("Message").set_user(app.username, root.username)
                        app.root.get_screen("Message").ids.receiver_label.text = f"{root.ids.username_label2.text}"
                        root.manager.current = "Message"

    # Divider Line
    MDNavigationDrawerDivider:
        color: "gray"
        pos_hint: {'center_x': 0.5,'center_y': 0.14}
        padding: ('15dp', '0dp', '15dp', '0dp')
